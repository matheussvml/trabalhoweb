<!-- detalhes.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes da Roupa</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="detalhes-container"></div>

    <script>
        async function mostrarDetalhes() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id'); // Obtém o ID da URL

            try {
                const resposta = await fetch(`https://0ba092f0-4048-41f3-a3ac-4fb804d6e15d-00-2sb31d6mw6zvi.worf.replit.dev/api/roupas/${id}`);
                const roupa = await resposta.json();

                const container = document.getElementById('detalhes-container');
                container.innerHTML = `
                    <h1>${roupa.nome}</h1>
                    <img src="${roupa.imagem}" alt="${roupa.nome}" style="max-width: 300px;">
                    <p>Preço: R$ ${roupa.preco.toFixed(2)}</p>
                    <p>ID: ${roupa.id}</p>
                    <button onclick="adicionarAoCarrinho('${roupa.id}')">Adicionar ao Carrinho</button>
                `;
            } catch (error) {
                console.error('Erro ao carregar detalhes da roupa:', error);
                document.write(`ERRO NA API: ${error.message}`);
            }
        }

        function adicionarAoCarrinho(id) {
            // Implementação da função para adicionar a roupa ao carrinho
            alert(`Roupa ${id} adicionada ao carrinho!`);
        }

        mostrarDetalhes(); // Chama a função para mostrar detalhes na inicialização
    </script>
</body>
</html>
